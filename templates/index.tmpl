<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<style>
.chart-container {
    width: 600px;
    height:200px;
}
</style>
</head>

<body>
  <h1>
    {{ .title }}
  </h1>

  <div class="container">
    <div class="row">
      <div class="col-sm">
        <canvas id="myChart0"></canvas>
      </div>
      <div class="col-sm">
        <canvas id="myChart1"></canvas>
      </div>
      <div class="col-sm">
        <canvas id="myChart2"></canvas>
      </div>
    </div>
  </div>

<!-- <canvas id="myChart1" width="400" height="400"></canvas>
<canvas id="myChart2" width="400" height="400"></canvas>
<canvas id="myChart3" width="400" height="400"></canvas>
 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"> </script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
  $(document).ready(function() {
      dataPoints = JSON.parse({{ .allDataPoints }});
      ctx = document.getElementById("myChart0").getContext('2d');
      window.chartColors = {
        red: 'rgb(255, 99, 132)',
        orange: 'rgb(255, 159, 64)',
        yellow: 'rgb(255, 205, 86)',
        green: 'rgb(75, 192, 192)',
        blue: 'rgb(54, 162, 235)',
        purple: 'rgb(153, 102, 255)',
        grey: 'rgb(201, 203, 207)'
      };

    config = {
      type: 'line',
      data: {
        labels: dataPoints.map(p => p.Timestamp),
        datasets: [{
          label: 'Relative Altitude (m)',
          backgroundColor: window.chartColors.red,
          borderColor: window.chartColors.red,
          data: dataPoints.map(p => p.RelativeAltitude),
          fill: false,
        }]
      },
      options: {
        title: {
          display: true,
          //text: 'Chart.js Line Chart',
        },
        tooltips: {
          mode: 'index',
          intersect: false,
        },
        hover: {
          mode: 'nearest',
          intersect: true
        },
        scales: {
          xAxes: [{
            display: false,
            scaleLabel: {
              display: true,
              labelString: 'Epoch Timestamp'
            }
          }],
          yAxes: [{
            display: true,
            scaleLabel: {
              display: true,
              //labelString: 'Altitude(m)'
            }
          }]
        }
      }
    };

    window.myLine = new Chart(ctx, config);
  });

  </script>
  </body>
</html>
